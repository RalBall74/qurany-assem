<!DOCTYPE html>
<html lang="ar" dir="rtl">

<!-- Setting up Google Analytics to see how the app is doing -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E6FX97WVER"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-E6FX97WVER');
</script>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Basic info for search engines and social media -->
    <title>ูุฑุขูู - ุณูุงุน ูุชุญููู ุงููุฑุขู ุงููุฑูู ูุงููุงู ุจุฃุตูุงุช ูุดุงููุฑ ุงููุฑุงุก</title>
    <meta name="title" content="ูุฑุขูู - ุณูุงุน ูุชุญููู ุงููุฑุขู ุงููุฑูู ูุงููุงู ุจุฃุตูุงุช ูุดุงููุฑ ุงููุฑุงุก">
    <meta name="description"
        content="ุชุทุจูู ูุฑุขูู ูููุฑ ุชุฌุฑุจุฉ ุงุณุชูุงุน ูููุฒุฉ ูููุฑุขู ุงููุฑููุ ูุน ุฏุนู ุงูุจุญุซ ูู ุงูุขูุงุชุ ููุณุงุนุฏ ุฐูู ููุฑุฏ ุนูู ุงููุชุงูู ูุงูุฃุณุฆูุฉ ุงูุฏูููุฉุ ููุคูุช ููููู. ุงุณุชูุน ูุฃุดูุฑ ุงููุฑุงุก ูุซู ูุงูุฑ ุงููุนูููู ูุงูููุดุงูู ูุบูุฑูู.">
    <meta name="keywords"
        content="ุงููุฑุขู ุงููุฑูู, ุงุณุชูุงุน ุงููุฑุขู, ุชุญููู ุงููุฑุขู, ูุฑุงุก ุงููุฑุขู, ูุงูุฑ ุงููุนูููู, ุงูููุดุงูู, ุชูุณูุฑ ุงููุฑุขู, ูุณุงุนุฏ ุฏููู ุฐูู, ุชุทุจูู ุฅุณูุงูู">
    <meta name="author" content="ุนุงุตู ูุญูุฏ ููุงู ุงุจู ุงููุตุฑ">
    <link rel="canonical" href="https://ralball74.github.io/qurany.assem/">

    <!-- How the app looks when shared on Facebook and similar sites -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ralball74.github.io/qurany.assem/">
    <meta property="og:title" content="ูุฑุขูู - ุฑูููู ุงููููู ูุน ููุงู ุงููู">
    <meta property="og:description"
        content="ุชุทุจูู ูุชูุงูู ูุงุณุชูุงุน ุงููุฑุขู ุงููุฑูู ุจุฃุตูุงุช ุงููุฑุงุก ุงูููุถููู ูุฏูู ูุน ููุฒุงุช ุฐููุฉ ููุชุทูุฑุฉ.">
    <meta property="og:image" content="https://ralball74.github.io/qurany.assem/icon-512x512.jpg">

    <!-- How the app looks on X (formerly Twitter) -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://ralball74.github.io/qurany.assem/">
    <meta property="twitter:title" content="ูุฑุขูู - ุฑูููู ุงููููู ูุน ููุงู ุงููู">
    <meta property="twitter:description"
        content="ุชุทุจูู ูุชูุงูู ูุงุณุชูุงุน ุงููุฑุขู ุงููุฑูู ุจุฃุตูุงุช ุงููุฑุงุก ุงูููุถููู ูุฏูู ูุน ููุฒุงุช ุฐููุฉ ููุชุทูุฑุฉ.">
    <meta property="twitter:image" content="https://ralball74.github.io/qurany.assem/icon-512x512.jpg">

    <!-- Helping search engines understand what this app is about -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ูุฑุขูู",
      "url": "https://ralball74.github.io/qurany.assem/",
      "description": "ุชุทุจูู ูุชูุงูู ูุงุณุชูุงุน ุงููุฑุขู ุงููุฑูู ุจุฃุตูุงุช ุงููุฑุงุก ุงูููุถููู ูุฏูู ูุน ููุฒุงุช ุฐููุฉ ููุชุทูุฑุฉ.",
      "applicationCategory": "ReferenceApplication",
      "operatingSystem": "All",
      "author": {
        "@type": "Person",
        "name": "ุนุงุตู ูุญูุฏ ููุงู ุงุจู ุงููุตุฑ"
      }
    }
    </script>

    <link rel="stylesheet" href="others/style.css">
    <!-- Bringing in some nice-looking fonts from Google -->
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Tajawal:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="manifest" href="others/manifest.json">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <!-- Icons we use throughout the app -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="light-mode">
    <div class="app-container">
        <!-- This is the top part with the logo and search bar -->
        <header class="top-header">
            <div class="header-top">
                <div class="logo">
                    <img src="images/icon-512x512.jpg" alt="ููุฌู ุชุทุจูู ูุฑุขูู - ุงุณุชูุงุน ุงููุฑุขู ุงููุฑูู" class="logo-img">
                    <h1>ูุฑุขูู</h1>
                </div>
                <div class="user-actions">

                    <button id="sleep-timer-btn" title="ูุคูุช ุงูููู"
                        style="background: none; border: none; font-size: 1.2rem; color: var(--text-muted); margin-left: 15px;">
                        <i class="fas fa-clock"></i>
                    </button>
                    <div class="theme-toggle" style="display: inline-block; vertical-align: middle;">
                        <input type="checkbox" id="theme-switch" />
                        <label for="theme-switch" class="switch-label">
                            <i class="fas fa-moon"></i>
                            <i class="fas fa-sun"></i>
                            <span class="ball"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="search-bar">
                <i class="fas fa-search" style="color: var(--text-muted);"></i>
                <input type="text" id="surah-search" placeholder="ุงุจุญุซ ุนู ุณูุฑุฉ ุฃู ุขูุฉ...">
                <div class="search-toggle-btn" id="search-type-toggle" title="ุชุบููุฑ ููุน ุงูุจุญุซ">
                    <span id="search-type-label">ุณูุฑุฉ</span>
                </div>
            </div>
        </header>

        <!-- This shows up only when there's no internet connection -->
        <div id="offline-banner" class="offline-banner" style="display: none;">
            <i class="fas fa-wifi-slash"></i>
            <span>ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช - ุชุนูู ููุท ุงูุณูุฑ ุงููุญููุฉ</span>
        </div>

        <!-- The main part of the app where all the content goes -->
        <main class="main-content">
            <section id="content-area" class="content-scroll">
                <!-- A horizontal list of Quran reciters -->
                <div class="section-header">
                    <h2>ุงููุฑุงุก</h2>
                </div>
                <div id="reciters-grid" class="reciters-carousel">
                    <!-- Reciter cards will be added here via JavaScript -->
                </div>

                <!-- The list of Surahs (Chapters) of the Quran -->
                <div class="section-header">
                    <h2 id="current-category">ุงูุณูุฑ</h2>
                </div>
                <div id="surah-list" class="surah-grid">
                    <div class="loader">ุฌุงุฑู ุงูุชุญููู...</div>
                </div>
            </section>

            <!-- Talk to the AI assistant for any questions -->
            <section id="ai-section" class="ai-view" style="display: none;">
                <div class="ai-header">
                    <h2>ูุณุงุนุฏู ุงูุฐูู</h2>
                    <p>ุงุณุฃููู ุนู ุฃู ุดูุก ูู ุงููุฑุขู ุฃู ุงูุฏูู</p>
                </div>
                <div id="chat-container" class="chat-container">
                    <div class="message ai-message">
                        <div class="message-avatar"><i class="fas fa-wand-magic-sparkles"></i></div>
                        <div class="message-content">ูุฑุญุจุงู! ุฃูุง ูุณุงุนุฏู ุงูุฐูู ุงููุนุชูุฏ ุนูู Gemini. ููู ูููููู ูุณุงุนุฏุชู ูู
                            ุฑุญูุชู ุงููุฑุขููุฉ ุงููููุ</div>
                    </div>
                </div>
                <div class="chat-input-area">
                    <div class="chat-input-wrapper">
                        <input type="text" id="ai-input" placeholder="ุงูุชุจ ุณุคุงูู ููุง..." autocomplete="off">
                    </div>
                    <button id="send-ai-btn" disabled><i class="fas fa-paper-plane"></i></button>
                </div>
            </section>

            <!-- Extra tools like Dua of the day and prayer times -->
            <section id="others-section" class="others-view" style="display: none;">
                <div class="section-header">
                    <h2>ุฃุฎุฑู</h2>
                </div>
                <div class="others-grid">
                    <div class="other-card" id="dua-day-btn">
                        <div class="other-icon"><i class="fas fa-hand-holding-heart"></i></div>
                        <div class="other-info">
                            <h3>ุฏุนุงุก ุงูููู</h3>
                            <p>ุฏุนุงุก ูุชุฌุฏุฏ ูู ููู</p>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>

                    <div class="other-card" id="about-dev-btn">
                        <div class="other-icon"><i class="fas fa-user-tie"></i></div>
                        <div class="other-info">
                            <h3>ุนู ุงููุทูุฑ</h3>
                            <p>ูุนูููุงุช ุนู ูุจุฑูุฌ ุงูุชุทุจูู</p>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>

                    <div class="other-card" id="rosary-btn">
                        <div class="other-icon"><i class="fas fa-fingerprint"></i></div>
                        <div class="other-info">
                            <h3>ุงูุณุจุญุฉ ุงูุฅููุชุฑูููุฉ</h3>
                            <p>ุนุฏุงุฏ ุชุณุจูุญ</p>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>

                    <div class="other-card" id="prayer-times-btn">
                        <div class="other-icon"><i class="fas fa-mosque"></i></div>
                        <div class="other-info">
                            <h3>ููุงููุช ุงูุตูุงุฉ</h3>
                            <p>ููุงุนูุฏ ุงูุตูุงุฉ ุงูููููุฉ</p>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>

                </div>
            </section>

            <!-- A little bit about the person who made this app -->
            <section id="about-view" class="others-subview" style="display: none;">
                <div class="view-header">
                    <button class="back-btn" id="about-back"><i class="fas fa-arrow-right"></i></button>
                    <h2>ุนู ุงููุทูุฑ</h2>
                </div>
                <div class="developer-card">
                    <div class="dev-header">
                        <img src="images/me.png" alt="ุนุงุตู ูุญูุฏ ููุงู">
                        <div class="dev-name">
                            <h3>ุนุงุตู ูุญูุฏ ููุงู ุงุจู ุงููุตุฑ</h3>
                            <p>ูุจุฑูุฌ ู ูุทูุฑ ูุงุฌูุงุช ุฃูุงููุฉ</p>
                        </div>
                    </div>
                    <div class="dev-info">
                        <a href="https://portfolio-for-assem.netlify.app" target="_blank" class="portfolio-link">
                            <i class="fas fa-external-link-alt"></i> ุงููููุน ุงูุดุฎุตู
                        </a>
                    </div>
                </div>
            </section>

            <!-- Shows a different supplication every day -->
            <section id="dua-view" class="others-subview" style="display: none;">
                <div class="view-header">
                    <button class="back-btn" id="dua-back"><i class="fas fa-arrow-right"></i></button>
                    <h2>ุฏุนุงุก ุงูููู</h2>
                </div>
                <div class="dua-container" id="dua-content-container">
                    <p class="dua-text" id="dua-text-el"></p>
                </div>
            </section>

            <!-- A simple digital prayer beads counter -->
            <section id="rosary-view" class="others-subview" style="display: none;">
                <div class="view-header">
                    <button class="back-btn" id="rosary-back"><i class="fas fa-arrow-right"></i></button>
                    <h2>ุงููุณุจุญุฉ ุงูุฅููุชุฑูููุฉ</h2>
                </div>
                <div class="rosary-container">
                    <div class="rosary-display">
                        <span id="rosary-count">0</span>
                        <span class="rosary-label">ุชุณุจูุญ</span>
                    </div>
                    <div class="rosary-body">
                        <button id="rosary-increment-btn" class="rosary-btn">
                            <div class="rosary-inner-circle"></div>
                        </button>
                    </div>
                    <button id="rosary-reset-btn" class="rosary-reset" title="ุชุตููุฑ ุงูุนุฏุงุฏ"><i
                            class="fas fa-redo"></i></button>
                </div>
            </section>

            <!-- Daily prayer timings based on your location -->
            <section id="prayer-view" class="others-subview" style="display: none;">
                <div class="view-header">
                    <button class="back-btn" id="prayer-back"><i class="fas fa-arrow-right"></i></button>
                    <h2>ููุงููุช ุงูุตูุงุฉ</h2>
                </div>
                <div class="prayer-container">
                    <div class="prayer-date-card">
                        <h3 id="prayer-gregorian-date">--/--/----</h3>
                        <p id="prayer-hijri-date">-- -- ----</p>
                        <div class="location-badge" id="prayer-location"><i class="fas fa-map-marker-alt"></i> ุชุญุฏูุฏ
                            ุงููููุน...</div>
                    </div>
                    <div id="prayer-times-list" class="prayer-list">
                        <div class="loader">ุฌุงุฑู ุฌูุจ ุงูููุจูุฉ ูุงูููุงููุช...</div>
                    </div>

                </div>
            </section>


            <!-- This is where you can read the actual verses of a Surah -->
            <div id="ayah-viewer" class="ayah-viewer">
                <div class="ayah-header">
                    <h3 id="viewer-title">ุณูุฑุฉ ุงููุงุชุญุฉ</h3>
                    <button id="close-viewer"><i class="fas fa-times"></i></button>
                </div>
                <div id="ayah-content" class="ayah-content">
                </div>
            </div>
        </main>

        <!-- The music-player-style bar at the bottom -->
        <footer class="player-bar">
            <!-- Surah info and quick action buttons -->
            <div class="song-info">
                <div class="info-left">
                    <img src="images/4.jpg" alt="ุตูุฑุฉ ุงููุงุฑุฆ - ุชุทุจูู ูุฑุขูู" id="player-img">
                    <div class="text">
                        <h4 id="player-surah">ุงุฎุชุฑ ุณูุฑุฉ</h4>
                        <p id="player-reciter">ูุงูุฑ ุงููุนูููู</p>
                    </div>
                </div>
                <div class="info-actions">
                    <button id="download-btn" class="download-btn" title="ุชุญููู ุงูุณูุฑุฉ"><i
                            class="fas fa-cloud-download-alt"></i></button>
                    <button id="show-text-btn" class="text-btn" title="ุนุฑุถ ุงูุขูุงุช"><i
                            class="fas fa-file-alt"></i></button>
                    <button id="fav-btn" class="fav-btn"><i class="far fa-heart"></i></button>
                </div>
            </div>

            <!-- Play/Pause, Next/Prev, and the progress slider -->
            <div class="player-controls">
                <div class="progress-area">
                    <span id="current-time" class="time-label">00:00</span>
                    <div class="progress-bar">
                        <div id="progress-filled"></div>
                    </div>
                    <span id="duration" class="time-label">00:00</span>
                </div>
                <div class="buttons">
                    <button id="prev-btn"><i class="fas fa-step-backward"></i></button>
                    <button id="play-btn" class="play-main"><i class="fas fa-play"></i></button>
                    <button id="next-btn"><i class="fas fa-step-forward"></i></button>
                </div>
            </div>
        </footer>

        <!-- The main menu at the very bottom -->
        <nav class="sidebar">
            <div class="nav-menu">
                <button class="nav-item active" data-target="home">
                    <i class="fas fa-home"></i>
                    <span>ุงูุฑุฆูุณูุฉ</span>
                </button>
                <button class="nav-item" data-target="favorites">
                    <i class="fas fa-heart"></i>
                    <span>ุงูููุถูุฉ</span>
                </button>
                <button class="nav-item" data-target="ai">
                    <i class="fas fa-wand-magic-sparkles"></i>
                    <span>ุงููุณุงุนุฏ</span>
                </button>
                <button class="nav-item" data-target="others">
                    <i class="fas fa-ellipsis-h"></i>
                    <span>ุฃุฎุฑู</span>
                </button>
            </div>
            <div class="app-copyright">ุญููู ุงูููููุฉ ยฉ ุนุงุตู ูุญูุฏ ููุงู ุงุจู ุงููุตุฑ</div>
        </nav>
    </div>

    <!-- A popup asking if you want to install this as an app -->
    <div id="pwa-install-banner" class="pwa-install-banner" style="display:none;">
        <div class="pwa-install-content">
            <div class="pwa-icon-wrap">
                <img src="images/icon-512x512.jpg" alt="ุฃููููุฉ ูุฑุขูู" class="pwa-app-icon">
            </div>
            <div class="pwa-text">
                <h3>ุซุจูุช ุชุทุจูู ูุฑุขูู</h3>
                <p>ุงุณุชูุชุน ุจุชุฌุฑุจุฉ ุฃูุถู ูุงุณุชูุน ูููุฑุขู ุญุชู ุจุฏูู ุฅูุชุฑูุช</p>
            </div>
            <div class="pwa-actions">
                <button id="pwa-install-btn" class="pwa-btn-install">
                    <i class="fas fa-download"></i>
                    ุชุซุจูุช
                </button>
                <button id="pwa-dismiss-btn" class="pwa-btn-dismiss">
                    ูุงุญูุงู
                </button>
            </div>
        </div>
    </div>

    <!-- A friendly reminder to pray for the Prophet (PBUH) -->
    <div id="salawat-modal" class="modal salawat-modal">
        <div class="modal-content salawat-content">
            <div class="salawat-icon" id="salawat-icon-container">
                <i class="fas fa-heart" id="salawat-icon"></i>
            </div>
            <h3 class="salawat-title" id="salawat-title">๐คุตูู ุนูู ุงุดุฑู ุงูุฎูู๐ค</h3>
            <p class="salawat-text" id="salawat-text">ุตูู ุนููู ูุฎุฏ ุญุณูุงุช ูุงุฏุนููู</p>
            <button id="close-salawat" class="salawat-btn">ุนููู ุงูุตูุงุฉ ูุงูุณูุงู</button>
        </div>
    </div>

    <!-- Set a timer to automatically stop the audio later -->
    <div id="timer-modal" class="modal">
        <div class="modal-content">
            <h3>ูุคูุช ุงูููู</h3>
            <div class="timer-options">
                <button data-time="15">15 ุฏูููุฉ</button>
                <button data-time="30">30 ุฏูููุฉ</button>
                <button data-time="60">60 ุฏูููุฉ</button>
                <button data-time="0">ุฅููุงู</button>
            </div>
            <button id="close-timer">ุฅูุบุงุก</button>
        </div>
    </div>

    <!-- Deep dive into the meaning of a verse -->
    <div id="tafsir-modal" class="modal">
        <div class="modal-content tafsir-content">
            <div class="tafsir-header">
                <div class="tafsir-header-main">
                    <h3 id="tafsir-title">ุชูุณูุฑ ุงูุขูุฉ</h3>
                    <div class="tafsir-selector">
                        <select id="tafsir-engine-select">
                            <option value="ar.muyassar">ุชูุณูุฑ ุงูููุณุฑ</option>
                            <option value="ar.jalalayn">ุชูุณูุฑ ุงูุฌูุงููู</option>
                            <option value="ar.qurtubi">ุชูุณูุฑ ุงููุฑุทุจู</option>
                            <option value="ar.baghawi">ุชูุณูุฑ ุงูุจุบูู</option>
                            <option value="ar.waseet">ุชูุณูุฑ ุงููุณูุท</option>
                            <option value="ar.miqbas">ุชูููุฑ ุงูููุจุงุณ</option>
                        </select>
                    </div>
                </div>
                <button id="close-tafsir"><i class="fas fa-times"></i></button>
            </div>
            <div id="tafsir-body" class="tafsir-body">
                <div class="loader">ุฌุงุฑู ุชุญููู ุงูุชูุณูุฑ...</div>
            </div>
        </div>
    </div>



    <audio id="main-audio" src=""></audio>
    <script src="js/reciters.js"></script>
    <script src="js/duas.js"></script>
    <script src="js/app.js"></script>
    <script src="js/ai-service.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then(reg => {
                    // We check for any updates every time someone opens the page
                    reg.update();
                });
            });

            // If there's a new version, refresh the page to use it
            let refreshing = false;
            navigator.serviceWorker.addEventListener('controllerchange', () => {
                if (!refreshing) {
                    window.location.reload();
                    refreshing = true;
                }
            });
        }

        // ===== Asking the user to install the app =====
        let deferredPrompt;
        const pwaInstallBanner = document.getElementById('pwa-install-banner');
        const pwaInstallBtn = document.getElementById('pwa-install-btn');
        const pwaDismissBtn = document.getElementById('pwa-dismiss-btn');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;

            // Don't annoy the user if they've already said no or dismissed it
            const dismissed = localStorage.getItem('pwa-install-dismissed');
            if (!dismissed) {
                setTimeout(() => {
                    pwaInstallBanner.style.display = 'flex';
                    requestAnimationFrame(() => {
                        pwaInstallBanner.classList.add('visible');
                    });
                }, 2000);
            }
        });

        pwaInstallBtn && pwaInstallBtn.addEventListener('click', async () => {
            if (!deferredPrompt) return;
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            deferredPrompt = null;
            pwaInstallBanner.classList.remove('visible');
            setTimeout(() => { pwaInstallBanner.style.display = 'none'; }, 400);
        });

        pwaDismissBtn && pwaDismissBtn.addEventListener('click', () => {
            localStorage.setItem('pwa-install-dismissed', '1');
            pwaInstallBanner.classList.remove('visible');
            setTimeout(() => { pwaInstallBanner.style.display = 'none'; }, 400);
        });

        // Once it's installed, we don't need the banner anymore
        window.addEventListener('appinstalled', () => {
            pwaInstallBanner.classList.remove('visible');
            setTimeout(() => { pwaInstallBanner.style.display = 'none'; }, 400);
            deferredPrompt = null;
        });
    </script>
</body>


</html>